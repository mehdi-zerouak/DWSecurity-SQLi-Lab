<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Vulnerable Blog </title>
    <link rel="stylesheet" href="/css/blog.css">
</head>
<body>
    <div class="warning-banner">SQL Injection Vulnerable Demo App For A University Project</div>
    
    <header>
        <div class="header-content">
            <a href="/" class="logo">DW<span> Security</span> | user: <%= username %> </a>
            
            <form class="search-container" method="GET" action="/">
                <input type="text" name="search"  placeholder="Search posts..." id="search-input">
                <button type="submit">üîç</button>
            </form>
            
            <form action="/logout" method="POST">
                <button type="submit" class="logout-btn">LOGOUT</button>
            </form>
        </div>
    </header>

    <main>
        <div class="posts-container">

            <% if (posts.length > 0) { %>
                <% posts.forEach(post => { %>
                    <div class="post">
                        <h3> <%=post.title%> </h3>
                        <div class="post-content">
                            <%= post.content %>
                        </div>
                        <div class="post-meta">
                            <span>Posted by: <%= post.username %></span>
                            <span>Date: April 9, 2025</span> <!-- not real and not dynamic -->
                        </div>
                    </div>
                <% }); %>
            <% } else { %>
                <div class="post">
                    <h3>No Posts Available contains <span id="idk" style="color:white;"> "<%=query%>" </span>!!</h3>
                </div>
            <% }; %>
          
        </div>
        
        <div class="new-post">
            <h2>Create New Post</h2>
            <form id="new-post-form" method="POST" action="/create-post">
                <div class="input-group">
                    <label for="post-title">Title</label>
                    <input type="text" id="post-title" placeholder="Enter post title" name="title">
                </div>
                
                <div class="input-group">
                    <label for="post-content">Content</label>
                    <textarea id="post-content" placeholder="Enter your post content here..." name="content"></textarea>
                </div>
                
                <button type="submit" class="logout-btn">PUBLISH POST <span class="blink">_</span></button>
            </form>
        </div>
    </main>

    <footer>
        <div class="footer-content">
            <div class="footer-info">
                <p>¬© 2025 Mehdi ZEROUAK - Vulnerable Blog - SQL Injection</p>
                <p>For educational purposes only</p>
            </div>
            
            <div class="security-rating">
                <span>Security Rating:</span>
                <div class="security-meter">
                    <div class="security-value"></div>
                </div>
                <span>CRITICAL</span>
            </div>
        </div>
    </footer>
    
    <div class="binary-bg">
        01010011 01010001 01001100 00100000 01001001 01101110 01101010 01100101 01100011 01110100 01101001 01101111 01101110 00100000 01010110 01110101 01101100 01101110 01100101 01110010 01100001 01100010 01101001 01101100 01101001 01110100 01111001
    </div>
    
</body>
</html>
